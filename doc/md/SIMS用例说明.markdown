# 企业进销存系统 SIMS(Sales Invoicing Management System)
# 用例说明文档
# 正式版
## plsw软工二小组
## 建立时间:2017-9-21
## 更新历史
| **修改人员** | **日期** | **变更原因** | **版本号** |
| --- | --- | --- | --- |
| 王灿灿 | 2017-9-21 | 整合文档 | V1.0 |
| 潘星宇 | 2017-10-12 | 修改库存管理人员测试用例 | V1.1.1  |
| 李杰 | 2017-10-12 | 修改进货销售人员测试用例 | V1.1.2 |
| 王灿灿 | 2017-10-15 | 修改财务人员测试用例、添加封面、修改用例标号、添加用例列表 | V1.1.3 |
| 孙嘉杰 | 2017-10-21 | 修改总经理测试用例 | V1.1.4 |
| 孙嘉杰 | 2017-12-30 | 整体修改 | V1.2 |
| 孙嘉杰 | 2018-1-2 | 基本上改好了 | V2.0 |
| 王灿灿 | 2018-1-13 | 最后修改 | V2.1 |

## 用例图
<img src="../img/用例图.png"><br>
## 用例列表

| **参与者** | **用例** |
| --- | --- |
| 财务人员 | 1.1账户管理
||1.2 制定财务类单据（收、付款单）
||1.3 查看经营情况表
||1.4 查看经营历程表
||1.5 查看销售明细表
||1.6 期初建账 |
| 总经理 |2.1 审批单据
||2.2 制定销售策略
||2.3 查看经营历程表
||2.4 查看销售明细表
||2.5 经营情况表
| 库存管理人员 |3.1 商品分类管理
||3.2 商品管理
||3.3 库存查看
||3.4 库存盘点
||3.5 制定库存赠送单
||3.6 制定库存报损报溢单
||3.7 制定库存报警单
| 进货售货人员 |4.1 商管理客户信息
||4.2 制定进货单
||4.3 制定退货单
||4.4 制定销售单
||4.5 制定销售退货单

<br/>

###  账户管理

| **ID** | 1.1 | **名称** | 账户管理 |
| --- | --- | --- | --- |
| **创建者** | 王灿灿 | **最后一次更新者** | 王灿灿 |
| **创建日期** | 2017.9.13 | **最后更新日期** | 2018.1.13 |
| **参与者** | 财务人员，目的是对公司银行账户进行管理 |
| **触发条件** | 企业的银行账户产生变动，要求财务人员对系统中的银行账户进行变更 |
| **前置条件** | 财务人员必须已经被识别和授权。 |
| **后置条件** | 更新账户信息 |
| **优先级** | 高 |
| **正常流程** |1. 检测财务人员的信息|
||2. 如果该财务人员拥有最高权限，系统提供账户查询，增加，删除，修改功能
||3. 财务人员选择查询，系统提供查找并返回查找到的账户
||4. 财务人员选择增加，系统返回新建银行账户的信息
||5. 财务人员选择删除，系统返回确认信息
||6. 财务人员选择修改，系统返回待修改账户的信息并等待修改
| **扩展流程** | 2a.重复账户编号：系统提示错误并拒绝添加账户
||2b.非最高权限：    系统提示无权限 |
| **特殊需求** |1. 余额不可手动修改
||2. 查询账户功能要提供关键字查找
||3. 仅有最高权限可以进行银行账户的增删改查
  <br/>

###  制定财务类单据

| **ID** | 1.2 | **名称** | 制定财务类单据 |
| --- | --- | --- | --- |
| **创建者** | 王灿灿 | **最后一次更新者** | 王灿灿 |
| **创建日期** | 2017.9.14 | **最后更新日期** | 2018.1.13 |
| **参与者** | 财务人员，目的是制定收款单和付款单，并交予总经理审批 |
| **触发条件** | 向供货商付款或向销售商索要款项 |
| **前置条件** | 财务人员必须已经被识别和授权。 |
| **后置条件** | 更改客户的应收应付数据；更新公司待处理单据信息；打印单据 |
| **优先级** | 高 |
| **正常流程** |1. ，财务人员选择制定财务类单据，系统生成并显示单据基本信息
||2. 财务人员填写完成单据并确认保存至草稿，系统将单据保存至草稿
||3. 财务人员提交单据，单据转入待审批状态
||4. 单据通过审批，更改客户的应收应付数据，单据入账，单据转入待完成状态
| **扩展流程** | 无
||3a.总经理驳回单据：    单据显示被驳回，并退回至草稿状态
| **特殊需求** |1. 单据的状态有 草稿，待审批，通过审批这三种
||2. 只有草稿状态下的单据内容可以被修改
||3. 单据编号自动生成
||4. 收款单：单据编号（SKD-yyyyMMdd-xxxxx），客户（同时包含供应商和销售商），操作员（当前登录用户），转账列表，总额汇总。转账列表中的一项包含：银行账户，转账金额，备注。
||5. 付款单：单据编号（XJFYD-yyyyMMdd-xxxxx）,操作员（当前登录用户），银行账户，条目清单，总额。条目清单中包括：条目名，金额，备注。
<br/>

###  查看经营情况表

| **ID** | 1.3| **名称** | 查看经营情况表 |
| --- | --- | --- | --- |
| **创建者** | 王灿灿 | **最后一次更新者** | 王灿灿 |
| **创建日期** | 2017.9.17 | **最后更新日期** | 2018.1.13 |
| **参与者** | 财务人员，目的是查看企业的经营情况 |
| **触发条件** | 需要统计一段时间内的经营收支状况和利润 |
| **前置条件** | 财务人员必须已经被识别和授权。 |
| **后置条件** | 保存经营情况表 |
| **优先级** | 中 |
| **正常流程** |1. 财务人员选择查看经营情况表，系统计算并返回显示经营情况表
||2. 财务人员导出经营情况表，系统将经营情况表导出为excel文件
| **特殊需求** |1. 经营收入显示为折让后，并显示出折让了多少。
||2. 显示信息：1. 收入类：销售收入、商品类收入（商品报溢收入 成本调价收入 进货退货差价 代金券与实际收款差额收入）。收入类显示折让后总收入，并显示折让了多少。2. 支出类：销售成本、商品类支出（商品报损 商品赠出）。支出类显示总支出。3. 利润：折让后总收入-总支出。
||3. 需要支持导出数据
<br/>

###  查看销售明细表

| **ID** | 1.4 | **名称** | 查看销售明细表 |
| --- | --- | --- | --- |
| **创建者** | 王灿灿 | **最后一次更新者** | 王灿灿 |
| **创建日期** | 2017.9.17 | **最后更新日期** | 2017.10.15 |
| **参与者** | 财务人员，目的是商品销售情况 |
| **触发条件** | 需要统计一段时间内的商品销售情况 |
| **前置条件** | 财务人员必须已经被识别和授权。 |
| **后置条件** | 保存销售明细账表 |
| **优先级** | 中 |
| **正常流程** | 1.财务人员查看销售明细表，系统返回显示销售明细表
||2.财务人员选择导出销售明细表，系统将销售明细表导出为excel文件 
| **特殊需求** | 1.销售明细表：时间区间，商品名，客户，业务员，仓库。显示符合上述条件的商品销售记录，以列表形式显示，列表中包含如下信息：时间（精确到天），商品名，型号，数量，单价，总额 。
||2.筛选条件为：时间区间，商品名，客户，业务员，仓库
||3.需要支持导出数据
<br/>

###  查看经营历程表

| **ID** | 1.5 | **名称** | 查看经营历程表 |
| --- | --- | --- | --- |
| **创建者** | 王灿灿 | **最后一次更新者** | 王灿灿 |
| **创建日期** | 2017.9.17 | **最后更新日期** | 2017.10.15 |
| **参与者** | 财务人员，目的是查看一段时间内的所有单据 |
| **触发条件** | 需要统计一段时间内的商品销售情况 |
| **前置条件** | 财务人员必须已经被识别和授权。 |
| **后置条件** | 保存经营情况表 |
| **优先级** | 中 |
| **正常流程** | 1.财务人员查看经营历程表，系统返回显示经营历程表   
||2.财务人员选择进行红冲，系统生成一个一模一样但是仅仅把数量取负数的单据并入账，以此来抵消之前的单据
||3.财务人员选择进行红冲并复制，系统在红冲的基础上，新建一张以之前单子为模板的草稿单，供财务人员编辑
||3.财务人员选择导出经营历程表，系统将经营历程表导出为excel文件
| **特殊需求** | 1.单据分为：1. 销售类单据（销售出货单，销售退货单） 2. 进货类单据（进货单，进货退货单） 3. 财务类单据（付款单，收款单，现金费用单）4. 库存类单据（报溢单，报损单，赠送单）。
||2.筛选条件为：时间区间，单据类型，客户，业务员，仓库。
||3.可以对单据进行查看操作，但是不可修改和删除。
||4.需要支持导出数据
<br/>

###  期初建账

| **ID** | 1.6 | **名称** | 期初建账 |
| --- | --- | --- | --- |
| **创建者** | 王灿灿 | **最后一次更新者** | 王灿灿 |
| **创建日期** | 2017.9.17 | **最后更新日期** | 2018.1.13 |
| **参与者** | 财务人员，目的是进行期初建账 |
| **触发条件** | 需要建立系统的初始状态 |
| **前置条件** | 财务人员必须已经被识别和授权。 |
| **后置条件** | 期初的信息被保存 |
| **优先级** | 高 |
| **正常流程** | 1.财务人员选择进行期初建账，系统返回期初初始信息，等待财人员确认
||2.财务人员确认期初信息保存，系统保存期初信息 |
| **扩展流程** | 无 |
| **特殊需求** |1. 期初信息单独储存，不可改变，随时可查
||2. 一个财政年只有一个账
||3. 需要导入前一个财政年系统的数据包括：添加商品信息（商品分类，某一商品的名称，类别，型号，进价/售价(默认为上年平均)，最近进价和最近售价留空），客户信息（客户分类，某一个客户的名称，联系方式等，应收应付(之前遗留)），银行账户信息（名称，余额）。
<br/>

###  审批单据

| **ID** | 2.1 | **名称** | 审批单据 |
| --- | --- | --- | --- |
| **创建者** | 孙嘉杰 | **最后一次更新者** |  王灿灿|
| **创建日期** | 2017.9.17  | **最后更新日期** | 2018.1.13  |
| **参与者** | 总经理，目标是查看，修改所有申请单据 |
| **触发条件** | 出现需要审批的单据 |
| **前置条件** | 总经理已经被识别和授权 |
| **后置条件** | 更改库存数据和客户数据通知提交单据的人员 |
| **优先级** | 高 |
| **正常流程** | 1、系统提示有未处理单据
||2、总经理开始审批
||3、系统显示单据列表，单据有草稿状态，提交状态，通过审批状态
||4、总经理选择单据
||5、系统显示单据数据A、库存赠送单的数据包括商品的名称，型号，库存数量，赠送数量，库存均价，赠送总价B、库存报溢单，库存报损单的数据包括商品的名称，型号，实际数量，库存数量C、库存报警单的数据包括商品的名称，型号，库存数量，警戒数量D、进货单，进货退货单的数据包括单据编号，供应商，仓库，操作员，入库商品列表，备注，总额合计E、销售单，销售退货单的数据包括单据编号，客户，操作员，仓库，出货商品列表，折让前总额，折让，使用代金券金额，折让后总额，备注入库和出库商品列表包含的信息有：商品编号，名称，型号，数量，单价，金额，备注。F、收款单，付款单的数据包括单据编号，客户（同时包含供应商和销售商），操作员，转账列表，总额汇总。转账列表包括：银行账户，转账金额，备注G、现金费用单的数据包括单据编号，操作员，银行账户，条目清单，总额。条目清单中包括：条目名，金额，备注
||6、总经理修改单据数据
||7、总经理通过单据审批
||8、系统显示还需要审批的单据列表和已审批的单据列表总经理重复4~8步，直到审批完所有的单据 |
| **扩展流程** | 无 |
| **特殊需求** |1.有待审批的消息会提醒总经理|
<br/>
<br/>

###  制定销售策略

| **ID** | 2.2 | **名称** | 制定销售策略 |
| --- | --- | --- | --- |
| **创建者** | 孙嘉杰 | **最后一次更新者** | 王灿灿 |
| **创建日期** |  2017.9.17 | **最后更新日期** | 2018.1.13  |
| **参与者** | 总经理，目标是制定合理的促销策略 |
| **触发条件** | 顾客购买商品 |
| **前置条件** | 收银员必须已经被识别和授权。 |
| **后置条件** | 发送消息给库存管理员 |
| **优先级** | 高 |
| **正常流程** |1. 企业需要进行促销策略制定
||2. 总经理针对不同用户情况决定销售策略**:**
| **扩展流程** | 无 |
| **特殊需求** |1. 总经理可以针对不同级别的用户制定促销策略（赠品、价格折让、 赠送代金劵）。 2. 总经理可以制定特价包（组合商品降价）。 3. 总经理可以制定针对不同总价的促销策略（赠品、赠送代金卷）。所有促销策略都有其实时间和间隔时间。|
<br/>

### 查看经营历程表

| **ID** | 2.3 | **名称** | 查看经营历程表 |
| --- | --- | --- | --- |
| **创建者** | 孙嘉杰 | **最后一次更新者** | 王灿灿 |
| **创建日期** | 2017.9.17  | **最后更新日期** | 2018.1.13  |
| **参与者** | 总经理，目的是查看一段时间内的所有单据 |
| **触发条件** | 需要统计一段时间内的商品销售情况 |
| **前置条件** | 总经理必须已经被识别和授权。 |
| **后置条件** | 保存经营情况表 |
| **优先级** | 中 |
| **正常流程** | 1.总经理查看经营历程表，系统返回显示经营历程表   
||2.总经理选择导出经营历程表，系统将经营历程表导出为excel文件
| **特殊需求** | 1.单据分为：1. 销售类单据（销售出货单，销售退货单） 2. 进货类单据（进货单，进货退货单） 3. 财务类单据（付款单，收款单，现金费用单）4. 库存类单据（报溢单，报损单，赠送单）。
||2.筛选条件为：时间区间，单据类型，客户，业务员，仓库。
||3.可以对单据进行查看操作，但是不可修改和删除。
||4.需要支持导出数据
<br/>

###  查看销售明细表

| **ID** | 2.4 | **名称** | 查看销售明细表 |
| --- | --- | --- | --- |
| **创建者** | 孙嘉杰 | **最后一次更新者** |  王灿灿 |
| **创建日期** | 2017.9.17  | **最后更新日期** | 2018.1.13  |
| **参与者** | 总经理，目的是商品销售情况 |
| **触发条件** | 需要统计一段时间内的商品销售情况 |
| **前置条件** | 总经理必须已经被识别和授权。 |
| **后置条件** | 保存销售明细账表 |
| **优先级** | 中 |
| **正常流程** | 1.总经理查看销售明细表，系统返回显示销售明细表
||2.总经理选择导出销售明细表，系统将销售明细表导出为excel文件 
| **特殊需求** | 1.销售明细表：时间区间，商品名，客户，业务员，仓库。显示符合上述条件的商品销售记录，以列表形式显示，列表中包含如下信息：时间（精确到天），商品名，型号，数量，单价，总额 。
||2.筛选条件为：时间区间，商品名，客户，业务员，仓库
||3.需要支持导出数据
<br/>

###  查看经营情况表

| **ID** | 2.5 | **名称** | 查看经营情况表 |
| --- | --- | --- | --- |
| **创建者** | 孙嘉杰 | **最后一次更新者** | 王灿灿  |
| **创建日期** | 2017.9.17  | **最后更新日期** | 2018.1.13  |
| **参与者** | 总经理，目的是查看企业的经营情况 |
| **触发条件** | 需要统计一段时间内的经营收支状况和利润 |
| **前置条件** | 总经理必须已经被识别和授权。 |
| **后置条件** | 保存经营情况表 |
| **优先级** | 中 |
| **正常流程** |1. 总经理选择查看经营情况表，系统计算并返回显示经营情况表
||2. 总经理导出经营情况表，系统将经营情况表导出为excel文件
| **特殊需求** |1. 经营收入显示为折让后，并显示出折让了多少。
||2. 显示信息：1. 收入类：销售收入、商品类收入（商品报溢收入 成本调价收入 进货退货差价 代金券与实际收款差额收入）。收入类显示折让后总收入，并显示折让了多少。2. 支出类：销售成本、商品类支出（商品报损 商品赠出）。支出类显示总支出。3. 利润：折让后总收入-总支出。
||3. 需要支持导出数据
<br>

###  商品分类管理

| **ID** | 3.1 | **名称** | 商品分类管理 |
| --- | --- | --- | --- |
| **创建者** | 潘星宇 | **最后一次更新者** | 潘星宇 |
| **创建日期** | 2017.9.12 | **最后更新日期** | 2017.9.21 |
| **参与者** | 库存管理人员，目标是正确地对商品进行分类 |
| **触发条件** | 有新的一类商品需要引入、有一类商品需要下架或者有商品需要重新归类 |
| **前置条件** | 库存管理人员必须已经被识别和授权 |
| **后置条件** | 在时间日志中增加本次增删改分类的记录 |
| **优先级** | 中 |
| **正常流程** | **库存管理人员点击需要进行的分类管理操作**|
||**增加分类：**
||1. 1、系统给新分类自动分配编号
||**删除分类：**
||1. 1、库存管理人员在分类中找到需要删除的分类进行删除，或输入需要删除的分类系统根据请求删除该分类
||2. 2、系统在交互界面上删除分类
||**修改分类：**
||1. 1、库存管理人员通过系统找到需要修改的分类
||2. 2、系统提示成功库存管理人员输入分类的重新命名
||3. 3、系统修改分类
| **扩展流程** | 增-1a、在有商品的分类下增加子分类：       系统提示错误并拒绝输入
||删-1a及修-1a、非法输入不存在的分类：       系统提示错误并拒绝输入 |
| **特殊需求** | 只有叶节点的分类才能添加商品，一旦分类下有商品就不能在该分类下再添加子分类。 |
<br/>

###  商品管理

| **ID** | 3.2 | **名称** | 商品管理 |
| --- | --- | --- | --- |
| **创建者** | 潘星宇 | **最后一次更新者** | 潘星宇 |
| **创建日期** | 2017.9.12 | **最后更新日期** | 2017.9.21 |
| **参与者** | 库存管理人员，目标是正确地对商品进行增删改、分类，根据实际情况对商品的各类信息查询及管理 |
| **触发条件** | 有新的商品需要引入、有商品需要下架，库存管理人员需要查询或修改商品信息 |
| **前置条件** | 库存管理人员必须已经被识别和授权 |
| **后置条件** | 若为进行商品的增删改，需报告其记录 |
| **优先级** | 中 |
| **正常流程** | **库存管理人员点击需要进行的商品管理操作增加商品:**
||1、库存管理人员输入增加的商品
||2、系统给新商品一个编号
||3、库存管理人员输入新商品的分类
||4、系统增加商品、删除商品:
||1. 1、库存管理人员者输入需要删除的商品
||2. 2、系统在交互界面上删除该商品
||**修改商品：**
||1. 1、库存管理人员在输入需要修改的商品
||2. 2、系统显示商品的信息，编号、名称、型号、分类、库存数量、进价、零售价、最近进价、最近零售价、警戒值
||3. 3、库存管理人员点击需要修改的商品信息并进行修改确认（除了编号不允许修改）
||4. 4、系统根据请求进行修改
||**查询商品：** 
||1.库存管理人员输入需要查询的商品的关键字或者商品编号
||2.系统显示商品的所有信息
| **扩展流程** | 增-1a、在有子分类的分类下增加商品：       系统提示错误并拒绝输入
||删-1a、改-1a和查-1a  非法输入不存在的商品：       系统提示错误并拒绝输入
||修-3a、输入修改不符合商品该属性格式的信息：       系统提示错误并拒绝输入
| **特殊需求** | 只有叶节点的分类才能添加商品，一旦分类下有商品就不能在该分类下再添加子分类， 商品格式为PRO-xxxx-yyyy xxxx，表示分类id yyyy |
<br/>

###  库存查看

| **ID** | 3.3 | **名称** | 库存查看 |
| --- | --- | --- | --- |
| **创建者** | 潘星宇 | **最后一次更新者** | 潘星宇 |
| **创建日期** | 2017.9.12 | **最后更新日期** | 2017.9.21 |
| **参与者** | 库存管理人员，目标是查看某一时间段的出/入库数量/金额，销售/进货的数量/金额 |
| **触发条件** | 库存管理人员需要了解某一时间段的各商品信息 |
| **前置条件** | 库存管理人员必须已经被识别和授权 |
| **后置条件** | 无 |
| **优先级** | 中 |
| **正常流程** |1. 1、库存管理人员输入一个时间段
||2. 2、系统显示该时间段的商品的出入库数量以及金额，销售和进货的数量以及金额
||3. 3、系统显示库存数量总计
| **扩展流程** | 1a、输入不符合规范的时间段：       系统提示错误并拒绝输入 |
| **特殊需求** | 无 |
<br/>

###  库存盘点

| **ID** | 3.4 | **名称** | 库存盘点 |
| --- | --- | --- | --- |
| **创建者** | 潘星宇 | **最后一次更新者** | 潘星宇 |
| **创建日期** | 2017.9.12 | **最后更新日期** | 2017.9.21 |
| **参与者** | 库存管理人员，目标是盘点当天的库存快照 |
| **触发条件** | 库存管理人员需要盘点当天的库存快照 |
| **前置条件** | 库存管理人员必须已经被识别和授权 |
| **后置条件** | 无 |
| **优先级** | 低 |
| **正常流程** |1. 1、库存管理人员给系统发送库存盘点请求
||2. 2、系统显示当天的各种商品的名称，型号，库存数量，库存均价，并且显示行号
| **扩展流程** | 无 |
| **特殊需求** | 系统可以导出Excel |
<br/>

###  制定库存赠送单

| **ID** | 3.5 | **名称** | 指定库存赠送单 |
| --- | --- | --- | --- |
| **创建者** | 潘星宇 | **最后一次更新者** | 潘星宇 |
| **创建日期** | 2017.9.12 | **最后更新日期** | 2017.10.12 |
| **参与者** | 库存管理人员，目标是制定库存赠送单 |
| **触发条件** | 有商品需要赠送 |
| **前置条件** | 库存管理人员必须已经被识别和授权 |
| **后置条件** | 更新库存中的商品情况，并在时间日志中进行该次赠送的记录 |
| **优先级** | 中 |
| **正常流程** | 1. 1、库存管理人员向系统输入需要赠送的商品以及数量|
||2. 2、系统将赠送信息发给总经理待审批
||3. 3、总经理审批后若审批成功系统根据请求减去这些商品，若失败则需重新制定单据重复1-3步
| **扩展流程** | 1a  非法输入不符合规范的商品标识及数量：     系统提示错误并拒绝输入
||1a  输入不存在的库存商品：     系统提示错误并拒绝输入
| **特殊需求** | 无 |
<br/>

###  制定库存报损报溢单

| **ID** | 3.6 | **名称** | 指定库存报损报溢单 |
| --- | --- | --- | --- |
| **创建者** | 潘星宇 | **最后一次更新者** | 潘星宇 |
| **创建日期** | 2017.9.12 | **最后更新日期** | 2017.10.12 |
| **参与者** | 库存管理人员，目标是制定库存报溢、报损单 |
| **触发条件** | 当实际库房中的商品数量比系统中的不一致 |
| **前置条件** | 库存管理人员必须已经被识别和授权 |
| **后置条件** | 更新库存中的商品情况，并在时间日志中进行该次报溢、报损的记录 |
| **优先级** | 中 |
| **正常流程** | **库存管理人员点击需要进行的制定库存单据类操作：**
||**库存报溢：**
||1. 1、库存管理人员向系统输入多出的商品以及数量
||2. 2、系统将商品获益信息发送给总经理待审批
||3. 3、总经理审批后若审批成功系统根据请求增加这些商品，若失败则需重新制定单据重复1-3步
||**库存报损：**
||1. 1、库存管理人员向系统输入缺少的商品以及数量
||2. 2、系统将商品损坏丢失信息发给总经理待审批
||3. 3、总经理审批后若审批成功系统根据请求减去这些商品，若失败则需重新制定单据重复1-3步
| **扩展流程** | 溢-1a、损-1a  非法输入不符合规范的商品标识及数量：     系统提示错误并拒绝输入
||溢-1a、损-1a  输入不存在的库存商品：     系统提示错误并拒绝输入
| **特殊需求** | 无 |
<br/>

###  制定库存报警单

| **ID** | 3.7 | **名称** | 指定库存报警单 |
| --- | --- | --- | --- |
| **创建者** | 潘星宇 | **最后一次更新者** | 潘星宇 |
| **创建日期** | 2017.9.12 | **最后更新日期** | 2017.10.12 |
| **参与者** | 库存管理人员，目标是制定库存报警单 |
| **触发条件** | 当库存数量低于警戒数量值 |
| **前置条件** | 库存管理人员必须已经被识别和授权 |
| **后置条件** | 更新库存中的商品情况，并在时间日志中进行该次报警的记录 |
| **优先级** | 中 |
| **正常流程** | 1. 1、若系统中库存数量低于警戒值则当库存管理人员登录系统时，系统向库存管理人员提示
| **扩展流程** | 1a  非法输入不符合规范的商品标识及数量：     系统提示错误并拒绝输入
||1a、库存管理人员设置新的警戒值：
||1. 1、库存管理人员输入新的警戒值
||2. 2、系统显示新警戒值以及库存数量
| **特殊需求** | 无 |
<br/>

###  管理客户信息

| **ID** | 4.1  | **名称** | 管理客户信息 |
| --- | --- | --- | --- |
| **创建者** | 李杰 | **最后一次更新者** | 李杰 |
| **创建日期** | 2017/9/10 | **最后更新日期** | 2017/10/12 |
| **参与者** | 客户管理人员，目标是管理客户信息 |
| **触发条件** | 需要查询或更改客户信息 |
| **前置条件** | 客户管理人员必须已经被识别和授权。 |
| **后置条件** | 系统更新 |
| **优先级** | 低 |
| **正常流程** |1、客户管理人员打开用户查询页面
||2、系统提示输入客户的信息（如姓名、身份证号或客户编号等）
||3、管理人员输入客户的信息
||4、系统显示客户的基本信息（内容与客户注册时地信息基本相同
||5、管理人员请求更改该客户的信息
||6、系统显示客户信息更改界面
||7、管理人员修改客户信息
||8、管理人员确认修改后的客户信息
||9、系统返回客户的查询界面
||10、管理人员重复2~9步直到查询完所有客户信息
||11、系统退出
| **扩展流程** | 3a、错误的身份证号:
||1. 1、系统提示错误
||2. 2、返回第二步
||3b、身份证号不对应客户:
||1. 1、系统显示不存在该客户
||2. 2、返回第二步
||7、更改的客户信息不符合规范:
||1. 1、系统提示错误并重新输入
| **特殊需求** |1. 1、系统对客户的查询信息需要在5秒内完成
||2. 2、系统对新的客户信息的存储要在5秒内完成
||3. 3、管理人员不可以更改身份证号
 <br/>

###  制定进货单

| **ID** | 4.2 | **名称** | 制定进货单 |
| --- | --- | --- | --- |
| **创建者** | 李杰 | **最后一次更新者** | 李杰 |
| **创建日期** | 2017/9/10 | **最后更新日期** | 2017/10/12 |
| **参与者** | 进货人员，目标是根据库存需求制定进货单 |
| **触发条件** | 库存不足而报警，进货人员与供应商初步达成交易 |
| **前置条件** | 进货人员必须已经被识别和授权 |
| **后置条件** | 更新日志，生成单据，并提交至总经理审批 |
| **优先级** | 高 |
| **正常流程** |1、系统提示某商品库存数量不足
||2、进货人员要求查询库存不足的商品详细信息
||3、系统显示商品详细信息，包括所剩数量，价格等
||4、进货人员要求打开商品列表界面
||5、系统显示商品列表界面
||6、进货人员输入目标商品进行搜索
||4、系统显示所有符合条件的商品及其供应商
||5、进货人员请求查看商品的详细信息（如数量、价格和物流等）
||6、系统显示商品的详细信息
||7、进货人员选择商品，添加进进货清单
||8、系统显示进货清单
||进货重复5-7步，直到完成所有商品的进货
||9、进货人员结束进货需求并确认
||10、系统自动生成进货单，并提交给总经理审批
||11、系统更新日志，生成单据并退出
| **扩展流程** | 10.总经理不审批 1.修改订货单(增减商品进货数量、更换供应商) |
| **特殊需求** | **进货单单据编号** 的格式为：JHD-yyyyMMdd-xxxxx |
<br/>

###  制定退货单

| **ID** | 4.3 | **名称** | 制定退货单 |
| --- | --- | --- | --- |
| **创建者** | 李杰 | **最后一次更新者** | 李杰 |
| **创建日期** | 2017/9/11 | **最后更新日期** | 2017/10/12 |
| **参与者** | 进货人员，目标是根据库存分析以及库存出库信息制定退货单 |
| **触发条件** | 出库信息要求将某部分商品退货，进货人员已与供应商协商退货 |
| **前置条件** | 进货人员必须已经被识别和授权 |
| **后置条件** | 更新日志，生成单据，并自动提交至总经理审批 |
| **优先级** | 中 |
| **正常流程** |1、进货人员打开系统进入出库信息列表
||2、分析商品出库的原因，如到期报废、库存积压等
||3、选择非人为损坏商品并统计其数量、价格
||4、生成退货报表
||5、递交退货单至总经理审批
| **扩展流程** | 5. 总经理不审批       1.重新修改退货单 |
| **特殊需求** | 进货退货单单据编号的格式为：JHTHD- yyyyMMdd-xxxxx |
<br/>

###  制定销售单

| **ID** | 4.4 | **名称** | 制定销售单 |
| --- | --- | --- | --- |
| **创建者** | 李杰 | **最后一次更新者** | 李杰 |
| **创建日期** | 2017/9/11 | **最后更新日期** | 2017/10/12 |
| **参与者** | 销售员，目标是根据顾客的订货信息制定销售单 |
| **触发条件** | 客户在系统上订购商品，客户与销售人员初步达成交易 |
| **前置条件** | 销售人员必须已经被识别和授权 |
| **后置条件** | 更新日志，生成单据，并自动提交至总经理审批 |
| **优先级** | 中 |
| **正常流程** |1、销售员打开系统
||2、系统显示客户订单
||3、销售员查看商品的详细信息（如数量、价格和物流等）
||4、系统显示商品的详细信息
||5、销售员确认商品被订购
||6、销售员与销售商协商交易
||7、进货重复2-5步，直到完成所有商品的销售情况确认
||8、系统生成销售出货单
||9、系统计算可销售商品总金额，并显示填好的订单
||10、销售员递交销售单至销售经理审批
| **扩展流程** | 8. 总经理审批不通过    1. 修改销售单 |
| **特殊需求** | **销售单单据编号** 的格式为：XSD-yyyyMMdd-xxxxx |
<br/>

###  制定销售退货单

| **ID** | 4.5 | **名称** | 制定销售退货 |
| --- | --- | --- | --- |
| **创建者** | 李杰 | **最后一次更新者** | 李杰 |
| **创建日期** | 2017/9/11 | **最后更新日期** | 2017/10/12 |
| **参与者** | 销售员，目标是根据销售商的退货信息制定销退货售单 |
| **触发条件** | 销售商要求将已购买的商品退货，销售人员已与销售商初步达成退货协定 |
| **前置条件** | 业务员经被识别和授权 |
| **后置条件** | 更新日志，生成单据，并自动提交至总经理审批 |
| **优先级** | 中 |
| **正常流程** |1、系统显示销售商的退货信息
||2、业务员查看退货商品并确认退货信息
||3、重复1~2步直至完成所有商品的退货信息
||4、系统生成销售退货单
||5、销售员递交销售单至销售经理审批
| **扩展流程** | 2.销售日期已超7天，不包括7天1、系统提示超期并取消退货
||4.总经理不审批    1、重新修改订货单 |
| **特殊需求** | **销售退货单单据编号** 的格式为：XSTHD-yyyyMMdd-xxxxx |
<br/>